{% extends 'layout/base.html' %}

{% block title %}Trang Chủ - Tìm Chuyến Bay{% endblock %}

{% block content %}
<!-- Form Tìm Chuyến Bay -->
<div class="container mt-5">
    <h2 class="text-center">Tìm Chuyến Bay</h2>

    <!-- Form Tìm Chuyến Bay -->
    <form method="POST" action="/tim-chuyen-bay">
        <div class="mb-3">
            <label for="sanBayDi" class="form-label">Sân bay đi</label>
            <select class="form-select" id="sanBayDi" name="sanBayDi" required>
                <option value="" disabled selected>Chọn sân bay đi</option>
                {% for sanBay in sanBays %}
                <option value="{{ sanBay.maSanBay }}">{{ sanBay.tenSanBay }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="sanBayDen" class="form-label">Sân bay đến</label>
            <select class="form-select" id="sanBayDen" name="sanBayDen" required>
                <option value="" disabled selected>Chọn sân bay đến</option>
                {% for sanBay in sanBays %}
                <option value="{{ sanBay.maSanBay }}">{{ sanBay.tenSanBay }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="ngayDi" class="form-label">Ngày đi</label>
            <input type="date" class="form-control" id="ngayDi" name="ngayDi" required>
        </div>

        <button type="submit" class="btn btn-primary">Tìm Chuyến Bay</button>
    </form>
</div>

<!-- Chuyến Bay -->
<div class="container mt-5">
    <h3 class="text-center">Danh Sách Chuyến Bay</h3>
    <div class="row">
        {% for chuyenBay in chuyenBays %}
        <div class="col-md-4 mb-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">{{ chuyenBay.maChuyenBay }}</h5>
                    <p class="card-text">Tuyến bay: {{ chuyenBay.tuyenBay.tenTuyenBay }}</p>
                    <p class="card-text">Giờ đi: {{ chuyenBay.gioDi.strftime("%H:%M, %d/%m/%Y") }}</p>
                    <p class="card-text">Giờ đến: {{ chuyenBay.gioDen.strftime("%H:%M, %d/%m/%Y") }}</p>
                    <p class="card-text">Máy bay: {{ chuyenBay.mayBay.tenMayBay }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
